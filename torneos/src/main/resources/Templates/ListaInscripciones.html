<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head th:replace="fragments/header :: head('Lista de Inscripciones')"></head>
<body style="margin: 0; background: linear-gradient(-45deg, #2c3e50, #ffffff);">

<div class="wrapper">
    <div th:replace="fragments/header :: header"></div>

    <main style="max-width: 1300px; margin: 40px auto; padding: 20px; background: white; border-radius: 10px;">
        <h2>Lista de Inscripciones</h2>

        <!-- Buscadores -->
        <div style="display: flex; gap: 20px; margin-top: 20px;">
            <input type="text" id="buscarEquipo" placeholder="Buscar por equipo..." onkeyup="filtrarTabla()" style="flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
            <input type="text" id="buscarTorneo" placeholder="Buscar por torneo..." onkeyup="filtrarTabla()" style="flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
        </div>

        <!-- Tabla -->
        <table id="tablaInscripciones" style="width: 100%; border-collapse: collapse; margin-top: 20px;">
            <thead style="background-color: #2c3e50; color: white;">
                <tr>
                    <th style="padding: 10px;">ID</th>
                    <th style="padding: 10px;">Equipo</th>
                    <th style="padding: 10px;">Torneo</th>
                    <th style="padding: 10px;">Fecha</th>
                    <th style="padding: 10px;">Estado</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="inscripcion : ${inscripciones}" style="border-bottom: 1px solid #ccc;">
                    <td th:text="${inscripcion.id}" style="padding: 10px;"></td>
                    <td th:text="${inscripcion.equipo.nombre}" style="padding: 10px;"></td>
                    <td th:text="${inscripcion.torneo.nombre}" style="padding: 10px;"></td>
                    <td th:text="${inscripcion.fecha}" style="padding: 10px;"></td>
                    <td th:text="${inscripcion.estado}" style="padding: 10px;"></td>
                </tr>
            </tbody>
        </table>
    </main>
</div>

<div th:replace="fragments/footer :: footer"></div>

<!-- Script de filtrado -->
<script>
    function filtrarTabla() {
        const equipoFiltro = document.getElementById("buscarEquipo").value.toLowerCase();
        const torneoFiltro = document.getElementById("buscarTorneo").value.toLowerCase();
        const filas = document.querySelectorAll("#tablaInscripciones tbody tr");

        filas.forEach(fila => {
            const equipo = fila.cells[1].textContent.toLowerCase();
            const torneo = fila.cells[2].textContent.toLowerCase();

            const coincideEquipo = equipo.includes(equipoFiltro);
            const coincideTorneo = torneo.includes(torneoFiltro);

            fila.style.display = (coincideEquipo && coincideTorneo) ? "" : "none";
        });
    }
</script>

</body>
</html>

</body>
</html>
